function e(e){e.directive("wakelock",((n,{value:i,expression:a},{evaluate:o})=>{if(!a)return void console.error("Wake Lock directive requires a value/expression");let t=null;const s="wakeLock"in navigator,l=async()=>{if(s)try{t=await navigator.wakeLock.request("screen"),t.addEventListener("release",(()=>{console.log("Screen Wake Lock released")}))}catch(e){console.warn("Wake Lock error:",e.message)}else console.warn("Wake Lock API is not supported in this browser")},r=async()=>{t&&(await t.release(),t=null)},c=async()=>{null!==t&&"visible"===document.visibilityState&&await l()};e.effect((()=>{o(a)?(l(),document.addEventListener("visibilitychange",c)):(r(),document.removeEventListener("visibilitychange",c))})),n._x_cleanups=n._x_cleanups||[],n._x_cleanups.push((()=>{r(),document.removeEventListener("visibilitychange",c)}))}))}"undefined"!=typeof window&&(window.Alpine||(window.Alpine={}),window.Alpine.plugin=window.Alpine.plugin||(e=>e(window.Alpine)),window.Alpine.plugin(e));export{e as default};
