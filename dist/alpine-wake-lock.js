!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).AlpineWakeLock=n()}(this,(function(){"use strict";function e(e){e.directive("wakelock",((n,{value:i,expression:o},{evaluate:t})=>{if(!o)return void console.error("Wake Lock directive requires a value/expression");let s=null;const a="wakeLock"in navigator,l=async()=>{if(a)try{s=await navigator.wakeLock.request("screen"),s.addEventListener("release",(()=>{console.log("Screen Wake Lock released")}))}catch(e){console.warn("Wake Lock error:",e.message)}else console.warn("Wake Lock API is not supported in this browser")},c=async()=>{s&&(await s.release(),s=null)},r=async()=>{null!==s&&"visible"===document.visibilityState&&await l()};e.effect((()=>{t(o)?(l(),document.addEventListener("visibilitychange",r)):(c(),document.removeEventListener("visibilitychange",r))})),n._x_cleanups=n._x_cleanups||[],n._x_cleanups.push((()=>{c(),document.removeEventListener("visibilitychange",r)}))}))}return"undefined"!=typeof window&&(window.Alpine||(window.Alpine={}),window.Alpine.plugin=window.Alpine.plugin||(e=>e(window.Alpine)),window.Alpine.plugin(e)),e}));
